<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: ReimbursableRequest
  
    &mdash; Documentation by YARD 0.9.20
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "ReimbursableRequest";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (R)</a> &raquo;
    
    
    <span class="title">ReimbursableRequest</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: ReimbursableRequest
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="Request.html" title="Request (class)">Request</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ActiveRecord::Base</li>
          
            <li class="next"><span class='object_link'><a href="Request.html" title="Request (class)">Request</a></span></li>
          
            <li class="next">ReimbursableRequest</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/models/reimbursable_request.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Request that needs a reimbursement after reaching the final state</p>

<p>Subclasses must implement the can_have_reimbursement method.</p>


  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="TravelSponsorship.html" title="TravelSponsorship (class)">TravelSponsorship</a></span></p>
</div>






  <h2>Instance Attribute Summary</h2>
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="Request.html" title="Request (class)">Request</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Request.html#contact_phone_number-instance_method" title="Request#contact_phone_number (method)">#contact_phone_number</a></span>, <span class='object_link'><a href="Request.html#created_at-instance_method" title="Request#created_at (method)">#created_at</a></span>, <span class='object_link'><a href="Request.html#description-instance_method" title="Request#description (method)">#description</a></span>, <span class='object_link'><a href="Request.html#state-instance_method" title="Request#state (method)">#state</a></span>, <span class='object_link'><a href="Request.html#state_updated_at-instance_method" title="Request#state_updated_at (method)">#state_updated_at</a></span>, <span class='object_link'><a href="Request.html#type-instance_method" title="Request#type (method)">#type</a></span>, <span class='object_link'><a href="Request.html#updated_at-instance_method" title="Request#updated_at (method)">#updated_at</a></span>, <span class='object_link'><a href="Request.html#visa_letter-instance_method" title="Request#visa_letter (method)">#visa_letter</a></span></p>


  
    <h2>
      Has many
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#expenses-instance_method" title="#expenses (instance method)">#<strong>expenses</strong>  &#x21d2; ActiveRecord::Relation&lt;RequestExpense&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Estimated expenses, including (for every expense) the estimated amount, the amount of the help that the corresponding committee aproves, the amount finally expended and the amount that is going to be reimbursed.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Has one
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reimbursement-instance_method" title="#reimbursement (instance method)">#<strong>reimbursement</strong>  &#x21d2; Reimbursement </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Every accepted request is followed by a reimbursement process.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#expenses_sum-class_method" title="expenses_sum (class method)">.<strong>expenses_sum</strong>(attr = :total, requests)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#can_cancel%3F-instance_method" title="#can_cancel? (instance method)">#<strong>can_cancel?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Checks whether can have a transition to &#39;canceled&#39; state.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#expenses_sum-instance_method" title="#expenses_sum (instance method)">#<strong>expenses_sum</strong>(attr = :total)  &#x21d2; ActiveSupport::OrderedHash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Summarizes one of the xxx_amount attributes from the request&#39;s expenses grouping it by currency.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_no_expenses%3F-instance_method" title="#has_no_expenses? (instance method)">#<strong>has_no_expenses?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Checks is expenses.empty?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lacks_reimbursement%3F-instance_method" title="#lacks_reimbursement? (instance method)">#<strong>lacks_reimbursement?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Checks whether a request is ready for reimbursement but the process have not yet started.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Request.html" title="Request (class)">Request</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Request.html#event-instance_method" title="Request#event (method)">#event</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="HasState.html" title="HasState (module)">HasState</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="HasState.html#active%3F-instance_method" title="HasState#active? (method)">#active?</a></span>, <span class='object_link'><a href="HasState.html#assigned_roles-instance_method" title="HasState#assigned_roles (method)">#assigned_roles</a></span>, <span class='object_link'><a href="HasState.html#can_be_destroyed%3F-instance_method" title="HasState#can_be_destroyed? (method)">#can_be_destroyed?</a></span>, <span class='object_link'><a href="HasState.html#cancel-instance_method" title="HasState#cancel (method)">#cancel</a></span>, <span class='object_link'><a href="HasState.html#editable%3F-instance_method" title="HasState#editable? (method)">#editable?</a></span>, <span class='object_link'><a href="HasState.html#human_state_description-instance_method" title="HasState#human_state_description (method)">#human_state_description</a></span>, <span class='object_link'><a href="HasState.html#human_state_guide-instance_method" title="HasState#human_state_guide (method)">#human_state_guide</a></span>, <span class='object_link'><a href="HasState.html#in_final_state%3F-instance_method" title="HasState#in_final_state? (method)">#in_final_state?</a></span>, <span class='object_link'><a href="HasState.html#in_initial_state%3F-instance_method" title="HasState#in_initial_state? (method)">#in_initial_state?</a></span>, <span class='object_link'><a href="HasState.html#label-instance_method" title="HasState#label (method)">#label</a></span>, <span class='object_link'><a href="HasState.html#notify_state-instance_method" title="HasState#notify_state (method)">#notify_state</a></span>, <span class='object_link'><a href="HasState.html#title-instance_method" title="HasState#title (method)">#title</a></span>, <span class='object_link'><a href="HasState.html#with_transitions%3F-instance_method" title="HasState#with_transitions? (method)">#with_transitions?</a></span></p>

  
  

  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="expenses_sum-class_method">
  
    .<strong>expenses_sum</strong>(attr = :total, requests)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


73
74
75
76
77
78
79
80
81</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/reimbursable_request.rb', line 73</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_expenses_sum'>expenses_sum</span><span class='lparen'>(</span><span class='id identifier rubyid_attr'>attr</span> <span class='op'>=</span> <span class='symbol'>:total</span><span class='comma'>,</span> <span class='id identifier rubyid_requests'>requests</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_amount_field'>amount_field</span> <span class='op'>=</span> <span class='symbol'>:&quot;#{</span><span class='id identifier rubyid_attr'>attr</span><span class='embexpr_end'>}</span><span class='tstring_content'>_amount</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_r_ids'>r_ids</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_requests'>requests</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>ActiveRecord</span><span class='op'>::</span><span class='const'>Relation</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_requests'>requests</span><span class='period'>.</span><span class='id identifier rubyid_reorder'>reorder</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pluck'>pluck</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>requests.id</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_requests'>requests</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Integer</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>:</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='rbrace'>}</span>
          <span class='kw'>end</span>
  <span class='const'><span class='object_link'><a href="RequestExpense.html" title="RequestExpense (class)">RequestExpense</a></span></span><span class='period'>.</span><span class='id identifier rubyid_by_attr_for_requests'><span class='object_link'><a href="RequestExpense.html#by_attr_for_requests-class_method" title="RequestExpense.by_attr_for_requests (method)">by_attr_for_requests</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span> <span class='id identifier rubyid_r_ids'>r_ids</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span><span class='lparen'>(</span><span class='id identifier rubyid_amount_field'>amount_field</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="can_cancel?-instance_method">
  
    #<strong>can_cancel?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Checks whether can have a transition to &#39;canceled&#39; state</p>

<p>Overrides the HasState.can_cancel?, preventing cancelation of requests that
already have an active reimbursement
return [Boolean] true if #cancel can be called</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="HasState.html#can_cancel%3F-instance_method" title="HasState#can_cancel? (method)">HasState#can_cancel?</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


40
41
42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/reimbursable_request.rb', line 40</span>

<span class='kw'>def</span> <span class='id identifier rubyid_can_cancel?'>can_cancel?</span>
  <span class='op'>!</span><span class='id identifier rubyid_canceled?'>canceled?</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_reimbursement'>reimbursement</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='op'>!</span><span class='id identifier rubyid_reimbursement'>reimbursement</span><span class='period'>.</span><span class='id identifier rubyid_active?'>active?</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="expenses-instance_method">
  
    #<strong>expenses</strong>  &#x21d2; <tt>ActiveRecord::Relation&lt;<span class='object_link'><a href="RequestExpense.html" title="RequestExpense (class)">RequestExpense</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Estimated expenses, including (for every expense) the estimated amount,
the amount of the help that the corresponding committee aproves, the
amount finally expended and the amount that is going to be reimbursed</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>ActiveRecord::Relation&lt;<span class='object_link'><a href="RequestExpense.html" title="RequestExpense (class)">RequestExpense</a></span>&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html" target="_parent" title="ActiveRecord::Associations">ActiveRecord::Associations</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/reimbursable_request.rb', line 10</span>

<span class='id identifier rubyid_has_many'>has_many</span> <span class='symbol'>:expenses</span><span class='comma'>,</span> <span class='label'>class_name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>RequestExpense</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
<span class='label'>foreign_key:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>request_id</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
<span class='label'>inverse_of:</span> <span class='symbol'>:request</span><span class='comma'>,</span>
<span class='label'>dependent:</span> <span class='symbol'>:destroy</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="expenses_sum-instance_method">
  
    #<strong>expenses_sum</strong>(attr = :total)  &#x21d2; <tt>ActiveSupport::OrderedHash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Summarizes one of the xxx_amount attributes from the request&#39;s expenses grouping
it by currency.</p>

<p>A value of nil for the amount is ignored (the currency will not be present
in the result if all related amounts are nil), but zeros are counted (so the
currency will be present even if all the corresponding amounts are 0.0).</p>

<p>All the calculations are done in pure ruby (no SQL involved), so be sure to
use includes(:expenses) when using it through an ActiveRecord::Relation</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>attr</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>:total</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Attribute to summarize, can be :estimated, :approved,
:total or :authorized</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>ActiveSupport::OrderedHash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>with currencies as keys and sums as value,
ordered by currencies&#39; alphabetic order</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


66
67
68
69
70
71</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/reimbursable_request.rb', line 66</span>

<span class='kw'>def</span> <span class='id identifier rubyid_expenses_sum'>expenses_sum</span><span class='lparen'>(</span><span class='id identifier rubyid_attr'>attr</span> <span class='op'>=</span> <span class='symbol'>:total</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_grouped'>grouped</span> <span class='op'>=</span> <span class='id identifier rubyid_expenses'>expenses</span><span class='period'>.</span><span class='id identifier rubyid_group_by'>group_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:&quot;#{</span><span class='id identifier rubyid_attr'>attr</span><span class='embexpr_end'>}</span><span class='tstring_content'>_currency</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_nonils'>nonils</span> <span class='op'>=</span> <span class='id identifier rubyid_grouped'>grouped</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__k'>_k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='symbol'>:&quot;#{</span><span class='id identifier rubyid_attr'>attr</span><span class='embexpr_end'>}</span><span class='tstring_content'>_amount</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid__k'>_k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_unordered'>unordered</span> <span class='op'>=</span> <span class='id identifier rubyid_nonils'>nonils</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_sum'>sum</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:&quot;#{</span><span class='id identifier rubyid_attr'>attr</span><span class='embexpr_end'>}</span><span class='tstring_content'>_amount</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
  <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>OrderedHash</span><span class='lbracket'>[</span><span class='id identifier rubyid_unordered'>unordered</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:first</span><span class='rparen'>)</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_no_expenses?-instance_method">
  
    #<strong>has_no_expenses?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Checks is expenses.empty?</p>

<p>This one line method is required in order to the Graphviz automatic
documentation to work, because it doesn&#39;t work if a string is used in the
:unless parameter of a event definition</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/reimbursable_request.rb', line 29</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_no_expenses?'>has_no_expenses?</span>
  <span class='id identifier rubyid_expenses'>expenses</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lacks_reimbursement?-instance_method">
  
    #<strong>lacks_reimbursement?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Checks whether a request is ready for reimbursement but the process have not
yet started</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if there is no associated reimbursement</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/reimbursable_request.rb', line 48</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lacks_reimbursement?'>lacks_reimbursement?</span>
  <span class='id identifier rubyid_can_have_reimbursement?'>can_have_reimbursement?</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_reimbursement'>reimbursement</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_reimbursement'>reimbursement</span><span class='period'>.</span><span class='id identifier rubyid_new_record?'>new_record?</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="reimbursement-instance_method">
  
    #<strong>reimbursement</strong>  &#x21d2; <tt><span class='object_link'><a href="Reimbursement.html" title="Reimbursement (class)">Reimbursement</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Every accepted request is followed by a reimbursement process</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Reimbursement.html" title="Reimbursement (class)">Reimbursement</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="http://api.rubyonrails.org/classes/ActiveRecord/Associations/ClassMethods.html" target="_parent" title="ActiveRecord::Associations">ActiveRecord::Associations</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/reimbursable_request.rb', line 16</span>

<span class='id identifier rubyid_has_one'>has_one</span> <span class='symbol'>:reimbursement</span><span class='comma'>,</span> <span class='label'>inverse_of:</span> <span class='symbol'>:request</span><span class='comma'>,</span>
<span class='label'>foreign_key:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>request_id</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
<span class='label'>dependent:</span> <span class='symbol'>:restrict_with_exception</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Nov  8 18:00:50 2022 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.20 (ruby-2.7.6).
</div>

    </div>
  </body>
</html>